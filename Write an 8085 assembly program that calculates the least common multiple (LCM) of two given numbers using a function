LXI H, 2050H ; Load first number from 2050H
MOV A, M
MOV B, A ; Store first number in B
INX H
MOV A, M
LXI H, 4000H ; Load memory location for LCM
MOV M, A ; Store second number in 4000H
CALL LCM ; Call LCM function
HLT ; Halt the program
LCM: ; LCM Function
MOV A, B ; Compare first and second numbers
CMP M
JC SWAP ; Swap if first number is smaller
MOV D, A ; Store larger number in D
MOV E, M ; Store smaller number in E
MVI B, 01H ; Initialize loop counter
LOOP:
MOV A, D ; Multiply larger number with counter
MUL B
MOV D, A
MOV A, B
STA 5000H ; Temporary storage for high byte of product
MOV A, D
CMP E ; Check divisibility by smaller number
JZ LCM_FOUND
INR B
JMP LOOP
LCM_FOUND:
MOV A, D
STA 4000H ; Store LCM in designated memory location
RET ; Return from function
SWAP:
MOV D, M ; Swap numbers if first was smaller
MOV E, A
JMP LOOP
